<% layout("/layouts/boilerplate.ejs") -%>
<link rel="stylesheet" href="/listings/editPage.css" />
<body>
	<div class="row">
		<div class="col-6 offset-3">
			<h3>Update Listing</h3>
			<form
				action="/listings/<%= Listing._id %>?_method=PUT"
				method="post"
				novalidate
				class="needs-validation"
				enctype="multipart/form-data"
			>
				<div class="mb-2">
					<label for="title" class="form-title">Title</label>
					<input
						name="Listing[title]"
						placeholder="Hotel / Residance name"
						value="<%= Listing.title %>"
						type="text"
						required
						class="form-control"
					/>
					<div class="invalid-feedback">Please enter valid Title</div>
				</div>
				<div class="mb-2">
					<label for="description" class="form-description">Description</label
					><textarea
						name="Listing[description]"
						placeholder="Description of hotel"
						type="text"
						required
						class="form-control"
					>
<%= Listing.description %></textarea
					>
				</div>
				<div class="row align-items-center">
					<div class="mb-2 col-4">
						<div class="card show-card">
							<img
								src="<%= Listing.image.url %>"
								class="card-img-top"
								alt="<%= Listing.title%>"
							/>
						</div>
					</div>
					<div class="mb-2 col-8">
						<label for="image" class="form-image">Upload New Image</label>
						<input name="Listing[image]" type="file" class="form-control" />
					</div>
				</div>
				<div class="row">
					<div class="mb-2 col-md-6">
						<label for="price" class="form-price">Price</label>
						<input
							name="Listing[price]"
							placeholder="14684"
							value="<%= Listing.price %>"
							type="number"
							class="form-control"
							required
						/>
						<div class="invalid-feedback">Please enter valid Price</div>
					</div>
					<div class="col-md-6">
						<label for="category" class="form-category">Category</label>
						<select
							name="Listing[category]"
							class="form-select"
							aria-label="Default select example"
							required
						>
							<option value="<%=Listing.category %>">select a category</option>
							<option value="rooms">Rooms</option>
							<option value="cities">Cities</option>
							<option value="mountain">Mountain</option>
							<option value="pools">Pools</option>
							<option value="mansions">Mansions</option>
							<option value="farms">Farms</option>
						</select>
					</div>
				</div>
				<div class="row">
					<div class="mb-3 col-md-7">
						<label for="location" class="form-location">Location</label>
						<input
							name="Listing[location]"
							placeholder="Bengaluru"
							type="text"
							value="<%= Listing.location %>"
							class="form-control"
							required
						/>
						<div class="invalid-feedback">Please enter valid Location</div>
					</div>
					<div class="mb-2 col-md-5">
						<label for="country" class="form-country">Country</label>
						<input
							name="Listing[country]"
							placeholder="India"
							value="<%= Listing.country %>"
							type="text"
							class="form-control"
							required
						/>
						<div class="invalid-feedback">Please enter valid Country Name</div>
					</div>
				</div>
				<button class="btn btn-dark">Edit</button>
			</form>
		</div>
	</div>
</body>
